<div class="input-group mb-2" data-controller="clipboard">
  <%= text_field_tag 'token-value', token.value, class: 'form-control p-2',
                                                 readonly: true,
                                                 placeholder: 'トークンは設定されていません。',
                                                 data: { 'clipboard-target' => 'source' } %>
  <% if token.persisted? %>
    <%= button_tag type: 'button',
                   data: { 'action' => 'clipboard#copy', 'clipboard-target' => 'button' },
                   class: 'btn btn-secondary' do %>
      <i class="bi bi-stickies"></i>
    <% end %>
  <% end %>
</div>

<div class="d-flex align-items-center gap-2">
  <%= button_to regenerate_token_path, method: :patch,
                                       value: '生成',
                                       class: 'btn btn-primary',
                                       form_class: 'd-inline' do %>
    <%= token.new_record? ? '生成' : '再生成' %>
  <% end %>

  <% if token.persisted? %>
    <%= button_to token_path, method: :delete, value: '削除', class: 'btn btn-danger' do %>
      削除
    <% end %>
  <% end %>
</div>
